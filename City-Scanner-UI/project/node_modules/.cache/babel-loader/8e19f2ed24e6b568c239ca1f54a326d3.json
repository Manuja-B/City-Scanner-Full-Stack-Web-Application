{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\manuj\\\\git\\\\City-Sourcef\\\\City-Scanner-UI\\\\project\\\\src\\\\Places.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Rater from \"react-rater\";\nimport \"react-rater/lib/react-rater.css\";\nimport Map from \"./Map\";\nimport ls from \"local-storage\";\n\nclass Places extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      places: [],\n      locations: [],\n      lat: \" \",\n      long: \" \"\n    };\n  }\n\n  handleClick(index) {\n    this.setState({\n      index\n    });\n    ls.set(\"selectedIndex\", index);\n    window.location.href = \"/PlaceDetails\";\n  }\n\n  componentWillMount() {\n    ls.set(\"page\", \"places\");\n  }\n\n  componentDidMount() {\n    //Retrieve places from API\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getPlaces\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      //data:this.props.location\n      data: ls.get(\"city\")\n    }).then(response => {\n      console.log(response.data);\n      this.setState({\n        places: response.data.results\n      });\n      this.setState({\n        locations: response.data.results\n      }); //Get lat, long to set map position\n\n      return axios({\n        method: \"post\",\n        url: \"http://localhost:8080/getPosition\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\"\n        },\n        //data:this.props.location\n        data: ls.get(\"city\")\n      }).then(response => {\n        console.log(response.data);\n        this.setState({\n          lat: response.data.lat\n        });\n        this.setState({\n          long: response.data.long\n        });\n        console.log(\"states hanged\", this.state);\n      }).catch(err => {\n        console.log(err);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    //const { data } = this.props.location;\n    let imageurl = \"https://maps.googleapis.com/maps/api/place/photo?maxwidth=1000&photoreference=\" + ls.get(\"selectedIndex\")[\"photos\"][0][\"photo_reference\"] + \"&key=AIzaSyAJA71Rtblkd6TpFQvsgsnCbOVUqDCf-nc\";\n\n    if (ls.get(\"city\") == null) {\n      window.location.href = \"/home\";\n    } else if (this.state.lat != \" \" && this.state.long != \" \") {\n      return React.createElement(\"div\", {\n        className: \"containter-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Spots to visit in \", ls.get(\"city\")), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-6  \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, this.state.places.map((el, i) => React.createElement(\"div\", {\n        style: {\n          display: \"inline-block\",\n          marginBottom: 18,\n          marginRight: 18,\n          marginLeft: 100,\n          paddingTop: \"10px\",\n          fontColor: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Card, {\n        onClick: this.handleClick.bind(this, el),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(CardActionArea, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card float-right\",\n        style: {\n          width: 600\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"d-block w-100\",\n        src: \"https://s27363.pcdn.co/wp-content/uploads/2017/02/Tigers-Nest-Bhutan.jpg.optimal.jpg\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-7\",\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        gutterBottom: true,\n        variant: \"h5\",\n        component: \"h3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, el.name), React.createElement(Typography, {\n        gutterBottom: true,\n        variant: \"h5\",\n        component: \"h1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Rater, {\n        total: 5,\n        rating: el.rating,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, el.vicinity))))))))))), React.createElement(\"div\", {\n        className: \"col-sm-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Map, {\n        lat: this.state.lat,\n        long: this.state.long,\n        locations: this.state.locations,\n        shopLoc: [],\n        busStopLoc: [],\n        atmLoc: [],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }))));\n    } else {\n      return React.createElement(React.Fragment, null);\n    }\n  }\n\n}\n\nexport default Places;","map":{"version":3,"sources":["C:/Users/manuj/git/City-Sourcef/City-Scanner-UI/project/src/Places.js"],"names":["React","Component","axios","Card","CardActionArea","CardContent","CardMedia","Typography","Rater","Map","ls","Places","constructor","props","state","places","locations","lat","long","handleClick","index","setState","set","window","location","href","componentWillMount","componentDidMount","method","url","headers","data","get","then","response","console","log","results","catch","err","render","imageurl","map","el","i","display","marginBottom","marginRight","marginLeft","paddingTop","fontColor","bind","width","marginTop","name","rating","vicinity"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Rater from \"react-rater\";\nimport \"react-rater/lib/react-rater.css\";\nimport Map from \"./Map\";\nimport ls from \"local-storage\";\n\nclass Places extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      places: [],\n      locations: [],\n      lat: \" \",\n      long: \" \"\n    };\n  }\n  handleClick(index) {\n    this.setState({ index });\n    ls.set(\"selectedIndex\", index);\n          window.location.href=\"/PlaceDetails\" \n  }\n\n  componentWillMount() {\n    ls.set(\"page\", \"places\");\n  }\n  componentDidMount() {\n    //Retrieve places from API\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getPlaces\",\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\n      //data:this.props.location\n      data: ls.get(\"city\")\n    })\n      .then(response => {\n        console.log(response.data);\n        this.setState({ places: response.data.results });\n        this.setState({ locations: response.data.results });\n\n        //Get lat, long to set map position\n        return axios({\n          method: \"post\",\n          url: \"http://localhost:8080/getPosition\",\n          headers: { \"Access-Control-Allow-Origin\": \"*\" },\n          //data:this.props.location\n          data: ls.get(\"city\")\n        })\n          .then(response => {\n            console.log(response.data);\n            this.setState({ lat: response.data.lat });\n            this.setState({ long: response.data.long });\n            console.log(\"states hanged\", this.state);\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  render() {\n    //const { data } = this.props.location;\n    let imageurl=\"https://maps.googleapis.com/maps/api/place/photo?maxwidth=1000&photoreference=\"+ls.get(\"selectedIndex\")[\"photos\"][0][\"photo_reference\"]+\"&key=AIzaSyAJA71Rtblkd6TpFQvsgsnCbOVUqDCf-nc\"\n    if (ls.get(\"city\") == null) {\n      window.location.href = \"/home\";\n    } else if (this.state.lat != \" \" && this.state.long != \" \") {\n      return (\n        <div className=\"containter-fluid\">\n          <h1>Spots to visit in {ls.get(\"city\")}</h1>\n          <div className=\"row\">\n            <div className=\"col-sm-6  \">\n              {this.state.places.map((el, i) => (\n                <div\n                  style={{\n                    display: \"inline-block\",\n                    marginBottom: 18,\n                    marginRight: 18,\n                    marginLeft: 100,\n                    paddingTop: \"10px\",\n                    fontColor: \"black\"\n                  }}\n                >\n                  <Card onClick={this.handleClick.bind(this, el)}>\n                  <CardActionArea >\n                              <div>\n                                  <div className=\"card float-right\" style={{width:600}}>\n                                    <div className=\"row\">\n                                      <div className=\"col-sm-5\">\n                                        <img className=\"d-block w-100\" src=\"https://s27363.pcdn.co/wp-content/uploads/2017/02/Tigers-Nest-Bhutan.jpg.optimal.jpg\" alt=\"\" />\n                                      </div>\n                                      <div className=\"col-sm-7\" style={{marginTop:10}}>\n                                        <div className=\"card-block\">\n                                        <Typography gutterBottom variant=\"h5\" component=\"h3\">\n                                            {el.name}\n                                          </Typography>\n                                          <Typography gutterBottom variant=\"h5\" component=\"h1\">\n                                            <Rater total={5} rating={el.rating} />\n                                          </Typography>\n                                          <Typography\n                                            variant=\"body2\"\n                                            color=\"textSecondary\"\n                                            component=\"p\"\n                                          >\n                                            {el.vicinity}\n                                          </Typography>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                                </CardActionArea>\n                  </Card>\n                </div>\n              ))}\n            </div>\n            <div className=\"col-sm-6\">\n              <Map\n                lat={this.state.lat}\n                long={this.state.long}\n                locations={this.state.locations}\n                shopLoc={[]}\n                busStopLoc={[]}\n                atmLoc={[]}\n              />\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      return <></>;\n    }\n  }\n}\n\nexport default Places;\n"]},"metadata":{},"sourceType":"module"}