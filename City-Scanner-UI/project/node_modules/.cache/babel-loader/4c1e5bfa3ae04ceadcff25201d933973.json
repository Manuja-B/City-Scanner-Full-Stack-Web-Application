{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\manuj\\\\git\\\\City-Sourcef\\\\City-Scanner-UI\\\\project\\\\src\\\\Housing.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Rater from \"react-rater\";\nimport \"react-rater/lib/react-rater.css\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Map from \"./Map\";\nimport ls from \"local-storage\";\nimport localStorage from 'localStorage';\nimport { ToastsContainer, ToastsStore } from 'react-toasts';\n\nclass Housing extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      establishments: [],\n      shops: [],\n      locations: [],\n      shopLoc: [],\n      busStop: [],\n      busStopLoc: [],\n      atm: [],\n      atmLoc: [],\n      lat: \" \",\n      long: \" \"\n    };\n    this.getCoordinates = this.getCoordinates.bind(this);\n    this.getHousing = this.getHousing.bind(this);\n    this.getShops = this.getShops.bind(this);\n    this.getBusStops = this.getBusStops.bind(this);\n    this.getAtms = this.getAtms.bind(this);\n  }\n\n  componentWillMount() {\n    ls.set(\"page\", \"housing\");\n  } // handleClick = event => {\n  //   const {\n  //     target: { value }\n  //   } = event;\n  //   // And do whatever you need with it's value, for example change state\n  //   this.setState({ someProperty: value });\n  //   alert(value);\n  // };\n\n\n  handleClick(index) {\n    this.setState({\n      index\n    });\n    ls.set(\"selectedIndex\", index);\n    window.location.href = \"/HousingDetails\";\n  }\n\n  getCoordinates() {\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getPosition\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      data: ls.get(\"city\")\n    }).then(response => {\n      console.log(response.data);\n      this.setState({\n        lat: response.data.lat\n      });\n      this.setState({\n        long: response.data.long\n      });\n      console.log(\"states hanged\", this.state);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  getHousing() {\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getHousing\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      data: ls.get(\"city\")\n    }).then(response => {\n      console.log(response.data);\n      this.setState({\n        establishments: response.data.results\n      });\n      this.setState({\n        locations: response.data.results\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  getShops() {\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getShopping\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      data: ls.get(\"city\")\n    }).then(response => {\n      console.log(response.data);\n      this.setState({\n        shops: response.data.results\n      });\n      this.setState({\n        shopLoc: response.data.results\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  getBusStops() {\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getBusStop\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      data: ls.get(\"city\")\n    }).then(response => {\n      console.log(response.data);\n      this.setState({\n        busStop: response.data.results\n      });\n      this.setState({\n        busStopLoc: response.data.results\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  getAtms() {\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getAtm\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      data: ls.get(\"city\")\n    }).then(response => {\n      console.log(response.data);\n      this.setState({\n        atm: response.data.results\n      });\n      this.setState({\n        atmLoc: response.data.results\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentDidMount() {\n    this.getHousing();\n    this.getCoordinates();\n    this.getShops();\n    this.getBusStops();\n    this.getAtms();\n  }\n\n  render() {\n    let imageurl = \"https://maps.googleapis.com/maps/api/place/photo?maxwidth=1000&photoreference=\" + ls.get(\"selectedIndex\")[\"photos\"][\"0\"][\"photo_reference\"] + \"&key=AIzaSyAJA71Rtblkd6TpFQvsgsnCbOVUqDCf-nc\";\n\n    if (ls.get(\"city\") == null) {\n      window.location.href = \"/home\";\n    } else if (this.state.lat != \" \" && this.state.long != \" \") {\n      return React.createElement(\"div\", {\n        className: \"containter-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Establishments in \", ls.get(\"city\")), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-6\",\n        style: {\n          overflowY: 'scroll',\n          height: '1200px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, this.state.establishments.map((el, i) => React.createElement(\"div\", {\n        style: {\n          display: \"inline-block\",\n          marginBottom: 5,\n          marginRight: 12,\n          marginLeft: 100,\n          paddingTop: \"10px\",\n          fontColor: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(Card, {\n        onClick: this.handleClick.bind(this, el),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(CardActionArea, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card float-right\",\n        style: {\n          width: 600\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"d-block w-100\",\n        src: imageurl,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-7\",\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        gutterBottom: true,\n        variant: \"h5\",\n        component: \"h3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, el.name), React.createElement(Typography, {\n        gutterBottom: true,\n        variant: \"h5\",\n        component: \"h1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Rater, {\n        total: 5,\n        rating: el.rating,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, el.vicinity))))))))))), React.createElement(\"div\", {\n        className: \"col-sm-6\",\n        style: {\n          height: 1205\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(Map, {\n        lat: this.state.lat,\n        long: this.state.long,\n        locations: this.state.locations,\n        shopLoc: this.state.shopLoc,\n        busStopLoc: this.state.busStopLoc,\n        atmLoc: this.state.atmLoc,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }))));\n    } else {\n      return React.createElement(React.Fragment, null);\n    }\n  }\n\n}\n\nexport default Housing;","map":{"version":3,"sources":["C:/Users/manuj/git/City-Sourcef/City-Scanner-UI/project/src/Housing.js"],"names":["React","Component","axios","Card","CardActionArea","CardContent","CardMedia","Typography","Rater","BrowserRouter","Router","Route","Link","Map","ls","localStorage","ToastsContainer","ToastsStore","Housing","constructor","props","state","establishments","shops","locations","shopLoc","busStop","busStopLoc","atm","atmLoc","lat","long","getCoordinates","bind","getHousing","getShops","getBusStops","getAtms","componentWillMount","set","handleClick","index","setState","window","location","href","method","url","headers","data","get","then","response","console","log","catch","err","results","componentDidMount","render","imageurl","overflowY","height","map","el","i","display","marginBottom","marginRight","marginLeft","paddingTop","fontColor","width","marginTop","name","rating","vicinity"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Rater from \"react-rater\";\nimport \"react-rater/lib/react-rater.css\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Map from \"./Map\";\nimport ls from \"local-storage\";\nimport localStorage from 'localStorage';\nimport {ToastsContainer, ToastsStore} from 'react-toasts';\n\n\nclass Housing extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      establishments: [],\n      shops: [],\n      locations: [],\n      shopLoc: [],\n      busStop: [],\n      busStopLoc: [],\n      atm: [],\n      atmLoc: [],\n      lat: \" \",\n      long: \" \"\n    };\n    this.getCoordinates = this.getCoordinates.bind(this);\n    this.getHousing = this.getHousing.bind(this);\n    this.getShops = this.getShops.bind(this);\n    this.getBusStops = this.getBusStops.bind(this);\n    this.getAtms = this.getAtms.bind(this);\n  }\n\n  componentWillMount() {\n    ls.set(\"page\", \"housing\");\n  }\n\n  // handleClick = event => {\n  //   const {\n  //     target: { value }\n  //   } = event;\n\n  //   // And do whatever you need with it's value, for example change state\n  //   this.setState({ someProperty: value });\n  //   alert(value);\n  // };\n\n  handleClick(index) {\n    this.setState({ index });\n    ls.set(\"selectedIndex\", index);\n          window.location.href=\"/HousingDetails\" \n  }\n\n  getCoordinates() {\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getPosition\",\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\n      data: ls.get(\"city\")\n    })\n      .then(response => {\n        console.log(response.data);\n        this.setState({ lat: response.data.lat });\n        this.setState({ long: response.data.long });\n        console.log(\"states hanged\", this.state);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  getHousing() {\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getHousing\",\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\n      data: ls.get(\"city\")\n    })\n      .then(response => {\n        console.log(response.data);\n        this.setState({ establishments: response.data.results });\n        this.setState({ locations: response.data.results });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  getShops() {\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getShopping\",\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\n      data: ls.get(\"city\")\n    })\n      .then(response => {\n        console.log(response.data);\n        this.setState({ shops: response.data.results });\n        this.setState({ shopLoc: response.data.results });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  getBusStops() {\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getBusStop\",\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\n      data: ls.get(\"city\")\n    })\n      .then(response => {\n        console.log(response.data);\n        this.setState({ busStop: response.data.results });\n        this.setState({ busStopLoc: response.data.results });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  getAtms() {\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getAtm\",\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\n      data: ls.get(\"city\")\n    })\n      .then(response => {\n        console.log(response.data);\n        this.setState({ atm: response.data.results });\n        this.setState({ atmLoc: response.data.results });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  componentDidMount() {\n    this.getHousing();\n    this.getCoordinates();\n    this.getShops();\n    this.getBusStops();\n    this.getAtms();\n  }\n\n  render() {\n    let imageurl=\"https://maps.googleapis.com/maps/api/place/photo?maxwidth=1000&photoreference=\"+ls.get(\"selectedIndex\")[\"photos\"][\"0\"][\"photo_reference\"]+\"&key=AIzaSyAJA71Rtblkd6TpFQvsgsnCbOVUqDCf-nc\" \n    if (ls.get(\"city\") == null) {\n      window.location.href = \"/home\";\n    } else if (this.state.lat != \" \" && this.state.long != \" \") {\n      return (\n        <div className=\"containter-fluid\">\n          <h1>Establishments in {ls.get(\"city\")}</h1>\n          <div className=\"row\">\n            <div className=\"col-sm-6\" style={{overflowY: 'scroll', height:'1200px',}}>\n              {this.state.establishments.map((el, i) => (\n                \n                <div\n                  style={{\n                    display: \"inline-block\",\n                    marginBottom: 5,\n                    marginRight: 12,\n                    marginLeft: 100,\n                    paddingTop: \"10px\",\n                    fontColor: \"black\",\n                  }}\n                >\n                    <Card\n                      onClick={this.handleClick.bind(this, el)}\n                    >        \n                              <CardActionArea >\n                              <div>\n                                  <div className=\"card float-right\" style={{width:600}}>\n                                    <div className=\"row\">\n                                      <div className=\"col-sm-5\">\n                                        <img className=\"d-block w-100\" src={imageurl} alt=\"\" />\n                                      </div>\n                                      <div className=\"col-sm-7\" style={{marginTop:10}}>\n                                        <div className=\"card-block\">\n                                        <Typography gutterBottom variant=\"h5\" component=\"h3\">\n                                            {el.name}\n                                          </Typography>\n                                          <Typography gutterBottom variant=\"h5\" component=\"h1\">\n                                            <Rater total={5} rating={el.rating} />\n                                          </Typography>\n                                          <Typography\n                                            variant=\"body2\"\n                                            color=\"textSecondary\"\n                                            component=\"p\"\n                                          >\n                                            {el.vicinity}\n                                          </Typography>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                                </CardActionArea>\n                      {/* <CardActionArea>\n                        <CardMedia\n                          component=\"img\"\n                          alt=\"Contemplative Reptile\"\n                          height=\"140\"\n                          width=\"80\"\n                          image=\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/142996/singapore.jpg\"\n                          title=\"Contemplative Reptile\"\n                        />\n                        <CardContent style={{ display: \"inline-block\" }}>\n                          <Typography gutterBottom variant=\"h5\" component=\"h3\">\n                            {el.name}\n                          </Typography>\n                          <Typography gutterBottom variant=\"h5\" component=\"h1\">\n                            <Rater total={5} rating={el.rating} />\n                          </Typography>\n                          <Typography\n                            variant=\"body2\"\n                            color=\"textSecondary\"\n                            component=\"p\"\n                          >\n                            {el.vicinity}\n                          </Typography>\n                          <Typography\n                          variant=\"body2\"\n                          color=\"textSecondary\"\n                          component=\"p\"\n                        >\n                          {el.types[0]}\n                          &nbsp;\n                          {el.types[1]}\n                          &nbsp;\n                          {el.types[2]}\n                          &nbsp;\n                          {el.types[3]}\n                          </Typography> \n                        </CardContent>\n                      </CardActionArea> */}\n                    </Card>\n                </div>\n              ))}\n            </div>\n            <div className=\"col-sm-6\" style={{height:1205}}>\n              <Map\n                lat={this.state.lat}\n                long={this.state.long}\n                locations={this.state.locations}\n                shopLoc={this.state.shopLoc}\n                busStopLoc={this.state.busStopLoc}\n                atmLoc={this.state.atmLoc}\n              />\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      return <></>;\n    }\n  }\n}\n\nexport default Housing;"]},"metadata":{},"sourceType":"module"}