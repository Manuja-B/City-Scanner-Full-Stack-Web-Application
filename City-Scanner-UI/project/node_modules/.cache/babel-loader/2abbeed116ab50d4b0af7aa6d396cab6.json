{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\manuj\\\\git\\\\City-Sourcef\\\\City-Scanner-UI\\\\project\\\\src\\\\Places.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Rater from \"react-rater\";\nimport \"react-rater/lib/react-rater.css\";\nimport Map from \"./Map\";\nimport ls from \"local-storage\";\n\nclass Places extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      places: [],\n      locations: [],\n      lat: \" \",\n      long: \" \"\n    };\n  }\n\n  componentWillMount() {\n    ls.set(\"page\", \"places\");\n  }\n\n  componentDidMount() {\n    //Retrieve places from API\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getPlaces\",\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      //data:this.props.location\n      data: ls.get(\"city\")\n    }).then(response => {\n      console.log(response.data);\n      this.setState({\n        places: response.data.results\n      });\n      this.setState({\n        locations: response.data.results\n      }); //Get lat, long to set map position\n\n      return axios({\n        method: \"post\",\n        url: \"http://localhost:8080/getPosition\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\"\n        },\n        //data:this.props.location\n        data: ls.get(\"city\")\n      }).then(response => {\n        console.log(response.data);\n        this.setState({\n          lat: response.data.lat\n        });\n        this.setState({\n          long: response.data.long\n        });\n        console.log(\"states hanged\", this.state);\n      }).catch(err => {\n        console.log(err);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    //const { data } = this.props.location;\n    if (ls.get(\"city\") == null) {\n      window.location.href = \"/home\";\n    } else if (this.state.lat != \" \" && this.state.long != \" \") {\n      return React.createElement(\"div\", {\n        className: \"containter-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Places in \", ls.get(\"city\")), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-6  \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, this.state.places.map((el, i) => React.createElement(\"div\", {\n        style: {\n          display: \"inline-block\",\n          width: 350,\n          marginBottom: 18,\n          marginRight: 18,\n          marginLeft: 100,\n          paddingTop: \"10px\",\n          fontColor: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"cardsize\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(CardActionArea, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(CardContent, {\n        style: {\n          display: \"inline-block\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        gutterBottom: true,\n        variant: \"h5\",\n        component: \"h3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, el.name), React.createElement(Typography, {\n        gutterBottom: true,\n        variant: \"h5\",\n        component: \"h1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Rater, {\n        total: 5,\n        rating: el.rating,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, el.vicinity), React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, el.types[0], \"\\xA0\", el.types[1], \"\\xA0\", el.types[2], \"\\xA0\", el.types[3]))))))), React.createElement(\"div\", {\n        className: \"col-sm-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Map, {\n        lat: this.state.lat,\n        long: this.state.long,\n        locations: this.state.locations,\n        shopLoc: [],\n        busStopLoc: [],\n        atmLoc: [],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }))));\n    } else {\n      return React.createElement(React.Fragment, null);\n    }\n  }\n\n}\n\nexport default Places;","map":{"version":3,"sources":["C:/Users/manuj/git/City-Sourcef/City-Scanner-UI/project/src/Places.js"],"names":["React","Component","axios","Card","CardActionArea","CardContent","CardMedia","Typography","Rater","Map","ls","Places","constructor","props","state","places","locations","lat","long","componentWillMount","set","componentDidMount","method","url","headers","data","get","then","response","console","log","setState","results","catch","err","render","window","location","href","map","el","i","display","width","marginBottom","marginRight","marginLeft","paddingTop","fontColor","name","rating","vicinity","types"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Rater from \"react-rater\";\nimport \"react-rater/lib/react-rater.css\";\nimport Map from \"./Map\";\nimport ls from \"local-storage\";\n\nclass Places extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      places: [],\n      locations: [],\n      lat: \" \",\n      long: \" \"\n    };\n  }\n\n  componentWillMount() {\n    ls.set(\"page\", \"places\");\n  }\n  componentDidMount() {\n    //Retrieve places from API\n    return axios({\n      method: \"post\",\n      url: \"http://localhost:8080/getPlaces\",\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\n      //data:this.props.location\n      data: ls.get(\"city\")\n    })\n      .then(response => {\n        console.log(response.data);\n        this.setState({ places: response.data.results });\n        this.setState({ locations: response.data.results });\n\n        //Get lat, long to set map position\n        return axios({\n          method: \"post\",\n          url: \"http://localhost:8080/getPosition\",\n          headers: { \"Access-Control-Allow-Origin\": \"*\" },\n          //data:this.props.location\n          data: ls.get(\"city\")\n        })\n          .then(response => {\n            console.log(response.data);\n            this.setState({ lat: response.data.lat });\n            this.setState({ long: response.data.long });\n            console.log(\"states hanged\", this.state);\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  render() {\n    //const { data } = this.props.location;\n    if (ls.get(\"city\") == null) {\n      window.location.href = \"/home\";\n    } else if (this.state.lat != \" \" && this.state.long != \" \") {\n      return (\n        <div className=\"containter-fluid\">\n          <h1>Places in {ls.get(\"city\")}</h1>\n          <div className=\"row\">\n            <div className=\"col-sm-6  \">\n              {this.state.places.map((el, i) => (\n                <div\n                  style={{\n                    display: \"inline-block\",\n                    width: 350,\n                    marginBottom: 18,\n                    marginRight: 18,\n                    marginLeft: 100,\n                    paddingTop: \"10px\",\n                    fontColor: \"black\"\n                  }}\n                >\n                  <Card className=\"cardsize\">\n                    <CardActionArea>\n                      <CardContent style={{ display: \"inline-block\" }}>\n                        <Typography gutterBottom variant=\"h5\" component=\"h3\">\n                          {el.name}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h5\" component=\"h1\">\n                          <Rater total={5} rating={el.rating} />\n                        </Typography>\n                        <Typography\n                          variant=\"body2\"\n                          color=\"textSecondary\"\n                          component=\"p\"\n                        >\n                          {el.vicinity}\n                        </Typography>\n                        <Typography\n                          variant=\"body2\"\n                          color=\"textSecondary\"\n                          component=\"p\"\n                        >\n                          {el.types[0]}\n                          &nbsp;\n                          {el.types[1]}\n                          &nbsp;\n                          {el.types[2]}\n                          &nbsp;\n                          {el.types[3]}\n                        </Typography>\n                      </CardContent>\n                    </CardActionArea>\n                  </Card>\n                </div>\n              ))}\n            </div>\n            <div className=\"col-sm-6\">\n              <Map\n                lat={this.state.lat}\n                long={this.state.long}\n                locations={this.state.locations}\n                shopLoc={[]}\n                busStopLoc={[]}\n                atmLoc={[]}\n              />\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      return <></>;\n    }\n  }\n}\n\nexport default Places;\n"]},"metadata":{},"sourceType":"module"}